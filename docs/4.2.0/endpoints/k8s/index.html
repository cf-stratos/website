<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.61">
<title data-react-helmet="true">Kubernetes Endpoints | STRATOS</title><meta data-react-helmet="true" name="docsearch:version" content="4.2.0"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Kubernetes Endpoints | STRATOS"><meta data-react-helmet="true" name="description" content="Kubernetes (K8s) is an open-source system for automating deployment, scaling, and management of containerized applications"><meta data-react-helmet="true" property="og:description" content="Kubernetes (K8s) is an open-source system for automating deployment, scaling, and management of containerized applications"><meta data-react-helmet="true" property="og:url" content="https://stratos.app/docs/4.2.0/endpoints/k8s"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://stratos.app/docs/4.2.0/endpoints/k8s"><link rel="stylesheet" href="/styles.60bb3a68.css">
<link rel="preload" href="/styles.ba8c1c7a.js" as="script">
<link rel="preload" href="/runtime~main.42da528d.js" as="script">
<link rel="preload" href="/main.665ad137.js" as="script">
<link rel="preload" href="/1.0fc57a13.js" as="script">
<link rel="preload" href="/2.2301668a.js" as="script">
<link rel="preload" href="/18b93cb3.4e08a4fd.js" as="script">
<link rel="preload" href="/1be78505.d4f14d0b.js" as="script">
<link rel="preload" href="/c4f5d8e4.9e519ac8.js" as="script">
<link rel="preload" href="/300.47f23f30.js" as="script">
<link rel="preload" href="/299.b62c1cc6.js" as="script">
<link rel="preload" href="/d528a3a9.df24eb74.js" as="script">
<link rel="preload" href="/17896441.e3b26253.js" as="script">
<link rel="preload" href="/121eb551.007e68ad.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="Stratos"><strong class="navbar__title">STRATOS</strong></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/4.2.0/">4.2.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/endpoints/k8s">Latest</a></li><li><a class="dropdown__link" href="/docs/endpoints/k8s">4.4.0</a></li><li><a class="dropdown__link" href="/docs/4.3.0/endpoints/k8s">4.3.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/4.2.0/endpoints/k8s">4.2.0</a></li><li><a class="dropdown__link" href="/docs/4.1.0/">4.1.0</a></li><li><a class="dropdown__link" href="/docs/4.0.0/">4.0.0</a></li><li><a class="dropdown__link" href="/versions">All Versions</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a href="https://github.com/cloudfoundry/stratos" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_16CL"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx" style="margin-left:2px">üåô</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx" style="margin-left:1px">‚òÄÔ∏è</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="Stratos"><strong class="navbar__title">STRATOS</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/next/endpoints/k8s">Latest</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/endpoints/k8s">4.4.0</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/4.3.0/endpoints/k8s">4.3.0</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/4.2.0/endpoints/k8s">4.2.0</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/4.1.0/">4.1.0</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/4.0.0/">4.0.0</a></li><li class="menu__list-item"><a class="menu__link" href="/versions">All Versions</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a href="https://github.com/cloudfoundry/stratos" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Stratos</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/license">License</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Deploy</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/deploy/overview">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Cloud Foundry</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/deploy/cloud-foundry/cloud-foundry">Deploy as an Application</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/deploy/cloud-foundry/db-migration">Database service bindings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/deploy/cloud-foundry/cf-troubleshooting">Troubleshooting</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Kubernetes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/deploy/kubernetes">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/deploy/kubernetes/helm-installation">Deploy using Helm</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/deploy/kubernetes/eksdeployment">Stratos on EKS</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/deploy/all-in-one">Docker All-in-One</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/deploy/tech-preview">Tech Preview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/deploy/access">Accessing Stratos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/deploy/troubleshooting">Troubleshooting</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Endpoints</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/4.2.0/endpoints/introduction">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Cloud Foundry</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/endpoints/cf/cf">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/endpoints/cf/invite-user-guide">Configuring User Invites</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/4.2.0/endpoints/k8s">Kubernetes</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Metrics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/endpoints/metrics/metrics">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/endpoints/metrics/bosh-metrics">Connecting Prometheus-boshrelease</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/4.2.0/endpoints/helm">Helm</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Advanced Topics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/advanced/sso">Configuring Single Sign On</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Develop</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/developer/contributing">Contributing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/developer/introduction">Getting Started</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Frontend</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/developer/frontend">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/developer/frontend-tests">Tests</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Backend</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/developer/backend">Overview</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Deploy</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/developer/deploy">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/developer/developers-guide-helm">Helm</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/developer/developers-guide-kube-local-dev">Kube Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/developer/developers-guide-e2e-tests">E2E Tests</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/developer/developers-guide-env-tech">Dev Links &amp; Env</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Extend</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/extensions/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/extensions/disable-packages">Remove Packages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/extensions/v4-migration">Migrating to V4</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/extensions/theming">Theming Stratos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/extensions/frontend">Frontend Extensions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/4.2.0/extensions/backend">Backend Plugins</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="alert alert--secondary margin-bottom--md" role="alert"><div class="container_2r0I">This is documentation for <strong>4.2.0</strong>. For the latest released documentation see  <strong><a href="/docs/endpoints/k8s">4.4.0</a></strong>.</div></div><div class="docItemContainer_3QWW"><article><div><span class="badge badge--secondary">Version: 4.2.0</span></div><header><h1 class="docTitle_1Lrw">Kubernetes Endpoints</h1></header><div class="markdown"><p><a href="https://kubernetes.io/" target="_blank" rel="noopener noreferrer">Kubernetes</a> (K8s) is an open-source system for automating deployment, scaling, and management of containerized applications</p><p>Stratos provides easy access to Kubernetes features such as</p><ol><li>Browsing Kubernetes resources and their state</li><li>Terminal with kubectl (and helm) CLI tools (Tech Preview)</li><li>Run Security Observability Tools (Tech Preview)</li><li>Browsing Kubernetes Workloads</li><li>The Kubernetes Dashboard (Tech Preview)</li></ol><p>Adding a Stratos Helm Endpoint alongside a Kubernetes endpoint unlocks additional features</p><ol><li>Install a Helm chart into the kubernetes</li><li>Upgrade new or existing Helm charts</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="registering-a-kubernetes-endpoint"></a>Registering a Kubernetes Endpoint<a aria-hidden="true" tabindex="-1" class="hash-link" href="#registering-a-kubernetes-endpoint" title="Direct link to heading">#</a></h2><p>Stratos Administrator&#x27;s can register endpoints via the Endpoints page.</p><p>Usually all that&#x27;s needed is the Kubernetes API address, as well as a friendly name to identify the endpoint in Stratos.</p><p>Some basic information for finding the endpoint address for specific kubernetes clusters can be found bellow in the connecting section.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="connecting-a-kubernetes-endpoint"></a>Connecting a Kubernetes Endpoint<a aria-hidden="true" tabindex="-1" class="hash-link" href="#connecting-a-kubernetes-endpoint" title="Direct link to heading">#</a></h2><p>Stratos supports a number of different ways to authenticate with your Kubernetes cluster. There are a few generic ways that cover many types of clusters, but also authentication methods specific to some providers.</p><p>The currently supported connection methods and types of cluster are:</p><ol><li>Certificate based Kubernetes authentication</li><li>Username and password based Kubernetes authentication</li><li><a href="https://www.suse.com/products/caas-platform/" target="_blank" rel="noopener noreferrer">SUSE CaaSP</a> (OIDC)</li><li><a href="https://aws.amazon.com/eks/" target="_blank" rel="noopener noreferrer">AWS EKS</a> (AWS IAM auth)</li><li><a href="https://azure.microsoft.com/en-gb/services/kubernetes-service/" target="_blank" rel="noopener noreferrer">Azure AKS</a></li><li><a href="https://k3s.io/" target="_blank" rel="noopener noreferrer">K3S</a></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="certificate-based-authentication"></a>Certificate based authentication<a aria-hidden="true" tabindex="-1" class="hash-link" href="#certificate-based-authentication" title="Direct link to heading">#</a></h3><p>Some kubernetes clusters use TLS certificates for authentication. The following example shows how to register and connect to one of these called <a href="https://minikube.sigs.k8s.io/docs/" target="_blank" rel="noopener noreferrer">Minikube</a>.</p><p>To find the Minikube endpoint URL, locate the <code>minikube</code> entry in your local <code>kubeconfig</code> file. In the following example, the <code>minikube</code> endpoint URL is <code>https://192.168.99.100:8443</code>.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">- cluster:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    certificate-authority: /home/user/.minikube/ca.crt</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    server: https://192.168.99.100:8443</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  name: minikube</span></div></div></div></div></div><p>To connect to the cluster, locate the relevant entry in the <code>users</code> section in your kubernetes config file.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">users:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- name: minikube</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  user:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    client-certificate: /home/user/.minikube/client.crt</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    client-key: /home/user/.minikube/client.key</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><p>The two files specified under <code>client-certificate</code> and <code>client-key</code> are required to connect to the cluster.
Select the <code>Kubernetes Cert Auth</code> option as the Auth Type in the connect dialog and select the two files to connect.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="username-and-password-based-authentication"></a>Username and password based authentication<a aria-hidden="true" tabindex="-1" class="hash-link" href="#username-and-password-based-authentication" title="Direct link to heading">#</a></h3><p>To connect using a username and password simply select the <code>Username and Password</code> option as the Auth Type in the connect dialog.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="caasp-oidc"></a>CAASP (OIDC)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#caasp-oidc" title="Direct link to heading">#</a></h3><p>To connect a CAASP cluster to Stratos, download a <code>kubeconfig</code> from Velum.</p><ol><li>To find the endpoint URL, inspect the file. The <code>server</code> property details the endpoint URL</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">apiVersion: v1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">kind: Config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">clusters:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- name: caasp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  cluster:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    server: https://kube-api-x1.devenv.caasp.suse.net:6443 &lt;---Endpoint URL</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    certificate-authority-data: 1c1MFpYSnVZV3dnUTBFd0hoY05NVGd4TURBMU1USXhNalU1V2hjTk1qZ3hNREF5TVRJeE1qVTVXakNCb1RFTApNQWtHQTFVRUJoTUNSRVV4RURBT0JnTlZCQWdNQjBKaGRtRnlhV0V4RWpBUUJnTlZCQWNNQ1U1MWNtVnRZbVZ5Clp6RWJNQmtHQTFVRUNnd1NVMVZUUlNCQmRYUnZaMl...</span></div></div></div></div></div><ol start="2"><li>Specify the Endpoint URL when adding the endpoint to Stratos.</li><li>To connect to Kubernetes, select the <code>CAASP (OIDC)</code> option as the Auth Type, and upload the <code>kubeconfig</code> file downloaded from Velum.</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="amazon-eks"></a>Amazon EKS<a aria-hidden="true" tabindex="-1" class="hash-link" href="#amazon-eks" title="Direct link to heading">#</a></h3><p>To Connect the following details are required:</p><ul><li>Cluster Name (See the following example)</li><li>AWS Access Key</li><li>AWS Secret Key</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="eks-endpoint-url-and-cluster-name"></a>EKS Endpoint URL And Cluster Name<a aria-hidden="true" tabindex="-1" class="hash-link" href="#eks-endpoint-url-and-cluster-name" title="Direct link to heading">#</a></h4><p>You can locate the EKS cluster endpoint URL and the cluster name, by inspecting the generated cluster configuration in your local <code>kubeconfig</code>. </p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">10:20 $ cat ~/.kube/config </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- cluster:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa...QXR2N3dOQkt3eFhsYgpxZm5HRUs0WHRmSWNIcjJHSjhZOXdIa0lPRm0rR3Nvak1PaG1pK05wbER2YjVJc3BmMmxxbXdLd3RmRT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    server: https://40BCD34B7E297903DA2EAF19B6164521.sk1.us-east-1.eks.amazonaws.com</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  name: arn:aws:eks:us-east-1:138384977974:cluster/BRSSCF</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><p>The endpoint URL is specified in the <code>server</code> property (i.e. <code>https://40BCD34B7E297903DA2EAF19B6164521.sk1.us-east-1.eks.amazonaws.com</code>), while the cluster name is the last part of the <code>name</code> property (i.e <code>BRSSCF</code>).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="azure-aks"></a>Azure AKS<a aria-hidden="true" tabindex="-1" class="hash-link" href="#azure-aks" title="Direct link to heading">#</a></h3><p>To connect an AKS kubernetes instance, the following is required:</p><ol><li>AKS Endpoint URL, which can be found from the AKS console or the generated kubernetes configuration.</li><li>To connect to the cluster, provide the <code>kubeconfig</code> file.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="for-a-quick-way-to-registered-all-endpoints"></a>For a quick way to registered all endpoints<a aria-hidden="true" tabindex="-1" class="hash-link" href="#for-a-quick-way-to-registered-all-endpoints" title="Direct link to heading">#</a></h2><p>For a quick way to register kubernetes endpoints and in some cases also connect, the user can select <code>Import Kubeconfig</code> instead of the
endpoint types listed above. Once the user has provided the file they can then select which contexts to register and, if applicable, how to connect to it. Not all connection types are supported this way, for instance where files are reference in config. These can still be registered, and via the Endpoints page connected to, just not connected at that time.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/cloudfoundry/stratos/edit/master/website/versioned_docs/version-4.2.0/endpoints/k8s.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/4.2.0/endpoints/cf/invite-user-guide"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Configuring Invite User Support</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/4.2.0/endpoints/metrics/metrics"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Stratos Metrics Endpoints ¬ª</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#registering-a-kubernetes-endpoint" class="table-of-contents__link">Registering a Kubernetes Endpoint</a></li><li><a href="#connecting-a-kubernetes-endpoint" class="table-of-contents__link">Connecting a Kubernetes Endpoint</a><ul><li><a href="#certificate-based-authentication" class="table-of-contents__link">Certificate based authentication</a></li><li><a href="#username-and-password-based-authentication" class="table-of-contents__link">Username and password based authentication</a></li><li><a href="#caasp-oidc" class="table-of-contents__link">CAASP (OIDC)</a></li><li><a href="#amazon-eks" class="table-of-contents__link">Amazon EKS</a></li><li><a href="#azure-aks" class="table-of-contents__link">Azure AKS</a></li></ul></li><li><a href="#for-a-quick-way-to-registered-all-endpoints" class="table-of-contents__link">For a quick way to registered all endpoints</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/deploy/overview">Deploying Stratos</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://cloudfoundry.slack.com/?redir=%2Fmessages%2Fstratos" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://github.com/cloudfoundry/stratos" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/talks">Presentations and Talks</a></li></ul></div></div><div class="text--center"><div>Copyright ¬© 2021 Cloud Foundry Foundation</div></div></div></footer></div>
<script src="/styles.ba8c1c7a.js"></script>
<script src="/runtime~main.42da528d.js"></script>
<script src="/main.665ad137.js"></script>
<script src="/1.0fc57a13.js"></script>
<script src="/2.2301668a.js"></script>
<script src="/18b93cb3.4e08a4fd.js"></script>
<script src="/1be78505.d4f14d0b.js"></script>
<script src="/c4f5d8e4.9e519ac8.js"></script>
<script src="/300.47f23f30.js"></script>
<script src="/299.b62c1cc6.js"></script>
<script src="/d528a3a9.df24eb74.js"></script>
<script src="/17896441.e3b26253.js"></script>
<script src="/121eb551.007e68ad.js"></script>
</body>
</html>